//: Playground - noun: a place where people can play

import UIKit
import PlaygroundSupport

PlaygroundPage.current.needsIndefiniteExecution = true


let endpointURL = URL(string: "http://tryswiftmerrill.herokuapp.com/json/puzzle.json")
//endpoint response: //["_yalp", "_emag", "_odacova", "_xobx", "ydaer", "ot", "niw", "eht", "odnetnin", "hctiws", "_egnaro", "_tfiws"]

let dataTask = URLSession.shared.dataTask(with: endpointURL!) { data, response, error in
    
    guard error == nil else {
        print(error!)
        return
    }
    do {
       
        if let jsonArray = try JSONSerialization.jsonObject(with: data!) as? [String] {
            
            let filteredArray = jsonArray
                .filter{ !$0.contains("_") }
                .map() { String($0.characters.reversed())}
                .joined(separator: " ")
            
            print(filteredArray)

        }
    } catch {
        print(error)
    }
}
dataTask.resume()
